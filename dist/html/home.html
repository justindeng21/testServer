<!DOCTYPE html>

<html>

<head>

    <script>
        loadScript('https://c.evidon.com/geo/country.js')
            .then(() => {
                function waitForEvidon(timeout = 3000) {
                    return new Promise((resolve, reject) => {
                        const start = Date.now();
                        (function poll() {
                            if (window.evidon && window.evidon.location) {
                                resolve(window.evidon);
                            } else if (Date.now() - start > timeout) {
                                reject(new Error('window.evidon.location not ready'));
                            } else {
                                setTimeout(poll, 20);
                            }
                        })();
                    });
                }

                return waitForEvidon();
            })
            .then((evidon) => {
                console.log('Evidon ready:', evidon.location);

                var gdprAppliesGlobally = false;

                function addFrame() {
                    if (!window.frames['__tcfapiLocator']) {
                        if (document.body) {
                            var body = document.body,
                                iframe = document.createElement('iframe');
                            iframe.style.cssText = 'display:none';
                            iframe.name = '__tcfapiLocator';
                            body.appendChild(iframe);
                        } else {
                            setTimeout(addFrame, 5);
                        }
                    }
                }

                addFrame();

                function stubTCFAPI() {
                    var args = arguments;
                    __tcfapi.a = __tcfapi.a || [];
                    if (!args.length) return __tcfapi.a;
                    else if (args[0] === 'ping') {
                        args[2]({
                            gdprApplies: gdprAppliesGlobally,
                            cmpLoaded: false,
                            cmpStatus: 'stub',
                            displayStatus: 'hidden',
                            apiVersion: "2.0"
                        }, args[1] !== 1);
                    } else {
                        __tcfapi.a.push([].slice.apply(args));
                    }
                }

                function cmpMsgHandler(event) {
                    var msgIsString = typeof event.data === 'string';
                    var json = event.data;
                    if (typeof json !== 'object') {
                        try { json = JSON.parse(json); } catch { return; }
                    }
                    if (!json.__tcfapiCall) return;

                    var call = json.__tcfapiCall;
                    window.__tcfapi(call.command, call.version, function (retValue, success) {
                        var returnMsg = {
                            __tcfapiReturn: { returnValue: retValue, success, callId: call.callId }
                        };
                        if (event.source && typeof event.source.postMessage === 'function') {
                            event.source.postMessage(msgIsString ? JSON.stringify(returnMsg) : returnMsg, '*');
                        }
                    }, call.parameter);
                }

                if (typeof (__tcfapi) !== 'function') {
                    window.__tcfapi = stubTCFAPI;
                    __tcfapi.msgHandler = cmpMsgHandler;
                    if (window.addEventListener)
                        window.addEventListener('message', cmpMsgHandler, false);
                    else
                        window.attachEvent('onmessage', cmpMsgHandler);
                }
            })
            .catch(err => console.error(err));
    </script>



    <link rel="shortcut icon" href="https://dqm.crownpeak.com/assets/favicon.png">

    <script type="text/javascript">
        (function (id) {
            function append(scriptid, url, async) {
                var d = document, sn = 'script', f = d.getElementsByTagName(sn)[0];
                if (!f) f = d.head;
                var s = d.createElement(sn);
                s.async = async;
                s.id = scriptid;
                s.src = url;
                s.charset = 'utf-8';
                f.parentNode.insertBefore(s, f);
            }

            function is2parttld(value) {
                var tldindicators = ['co', 'com', 'info', 'web', 'info', 'gov', 'edu', 'biz', 'net', 'org'];
                var countryindicators = ['uk', 'us', 'fr', 'es', 'de', 'at', 'au', 'ae', 'be', 'br', 'ca', 'ch', 'cn', 'co', 'cz', 'dk', 'eg', 'eu', 'fi', 'gb', 'gr', 'hk', 'hr', 'hu', 'ie', 'in', 'jp', 'mx', 'nl', 'no', 'nz', 'pl', 'ro', 'ru', 'se'];
                return (tldindicators.indexOf(value) !== -1 || countryindicators.indexOf(value) !== -1);
            }

            function getRootDomain() {
                var parts = window.location.hostname.split('.');
                if (parts.length === 2) rootDomain = parts[0];
                else if (parts.length > 2) {
                    // see if the next to last value is a common tld
                    var part = parts[parts.length - 2];
                    if (is2parttld(part)) {
                        rootDomain = parts[parts.length - 3]; // go back one more
                    }
                    else {
                        rootDomain = part;
                    }
                }

                return rootDomain;
            }

            //window.evidon = {};
            window.evidon.id = id;
            window.evidon.test = false;  // set to true for non-production testing.
            //window.evidon.userid = '';

            var cdn = '//c.evidon.com/', rootDomain = getRootDomain(), noticecdn = cdn + 'sitenotice/';
            append('evidon-notice', noticecdn + 'evidon-sitenotice-tag.js', false);
            //append('evidon-location', cdn + 'geo/country.js', true);
            append('evidon-themes', noticecdn + id + '/snthemes.js', true);
            if (rootDomain) append('evidon-settings', noticecdn + id + '/' + rootDomain + (window.evidon.test ? '/test' : '') + '/settingsV3.js', true);

            window.evidon.priorConsentCallback = function (categories, vendors, cookies) {
                // add the tags which need to wait for prior consent
                // here.  This should be all your advertising tags and
                // probably most of your social and tracking tags.

            }

            window.evidon.closeCallback = function () {
                // this is executed if the user closed a UI element without either Accepting (providing consent)
                // or Declining (declining to provide consent).
            }

            window.evidon.consentWithdrawnCallback = function () {
                // this is exeucted if the user withdraws consent and elects to
                // no longer allow technologies to run on the site.
            }

            window.evidon.consentDeclinedCallback = function () {
                window.evidon.notice.dropSuppressionCookie(0);
            }

            window.evidon.consentRejectCallback = function () {
                // this is executed if the user explicitly revokes consent by
                // using the Opt-Out All / Reject button for Opt-Out Regulation only.
            }
        })(6914);
    </script>



</head>

<body>
    <span class="evidon-notice-link"></span>
</body>

</html>